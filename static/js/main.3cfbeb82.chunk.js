(this["webpackJsonpwebinar-frontend-test-task"]=this["webpackJsonpwebinar-frontend-test-task"]||[]).push([[0],{79:function(e,t,n){},90:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(9),c=n.n(o),d=n(65),i=(n(79),n(139)),s=n(46),l=n(64),j=n(138),b=n(26),u=n(13),O=n(131),f=n(133),h=n(136),m=n(134),x=n(142),p=n(135),g=n(63),I=n.n(g),v=n(128),y=n(60),D=n.n(y),k=n(140),S=n(15),w=n(61),C=n(5),P=Object(a.createContext)(null),E={todoItems:[],todoItemsDone:[]},N="todoListState",R=function(e){var t=e.children,n=Object(a.useReducer)(F,E),r=Object(S.a)(n,2),o=r[0],c=r[1];return Object(a.useEffect)((function(){var e=localStorage.getItem(N);if(e)try{c({type:"loadState",data:JSON.parse(e)})}catch(t){}}),[]),Object(a.useEffect)((function(){localStorage.setItem(N,JSON.stringify(o))}),[o]),Object(C.jsx)(P.Provider,{value:Object(u.a)(Object(u.a)({},o),{},{dispatch:c}),children:t})},T=function(){var e=Object(a.useContext)(P);if(!e)throw new Error("useTodoItems hook should only be used inside TodoItemsContextProvider");return e},F=Object(w.a)((function(e,t){switch(t.type){case"loadState":return t.data;case"add":e.todoItems.unshift({id:"".concat(Date.now().toString(36),"-").concat(Math.floor(1e16*Math.random()).toString(36)),title:t.data.todoItem.title,details:t.data.todoItem.details});break;case"delete":var n=e[t.data.done?"todoItemsDone":"todoItems"],a=n.findIndex((function(e){return e.id===t.data.id}));-1!==a&&n.splice(a,1);break;case"toggleDone":var r=t.data.done?"todoItemsDone":"todoItems",o=t.data.done?"todoItems":"todoItemsDone",c=e[r],d=e[o],i=c.findIndex((function(e){return e.id===t.data.id}));if(-1!==i){var s=c[i];c.splice(i,1),d.splice(1,0,s)}break;case"reorder":var l=e[t.data.done?"todoItemsDone":"todoItems"],j=l.splice(t.data.startIndex,1),b=Object(S.a)(j,1)[0];l.splice(t.data.endIndex,0,b);break;default:throw new Error}}));var B=n(32),J={type:"spring",damping:25,stiffness:120,duration:.25},L=Object(v.a)({root:{listStyle:"none",padding:0}}),M=function(){var e=T(),t=e.todoItems,n=e.todoItemsDone,a=e.dispatch,r=L();function o(e,t){e.destination&&e.destination.index!==e.source.index&&a({type:"reorder",data:{startIndex:e.source.index,endIndex:e.destination.index,done:t}})}return Object(C.jsxs)(C.Fragment,{children:[Object(C.jsx)(B.a,{onDragEnd:function(e){return o(e,!1)},children:Object(C.jsx)(B.c,{droppableId:"list",children:function(e){return Object(C.jsxs)("ul",Object(u.a)(Object(u.a)({className:r.root,ref:e.innerRef},e.droppableProps),{},{children:[t.map((function(e,t){return Object(C.jsx)(B.b,{draggableId:e.id,index:t,children:function(t){return Object(C.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(C.jsx)(k.a.li,{transition:J,layout:!0,drag:"y",children:Object(C.jsx)(H,{item:e,done:!1})})}))}},e.id)})),e.placeholder]}))}})}),Object(C.jsx)(B.a,{onDragEnd:function(e){return o(e,!0)},children:Object(C.jsx)(B.c,{droppableId:"list",children:function(e){return Object(C.jsxs)("ul",Object(u.a)(Object(u.a)({className:r.root,ref:e.innerRef},e.droppableProps),{},{children:[n.map((function(e,t){return Object(C.jsx)(B.b,{draggableId:e.id,index:t,children:function(t){return Object(C.jsx)("div",Object(u.a)(Object(u.a)(Object(u.a)({ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:Object(C.jsx)(k.a.li,{transition:J,layout:!0,drag:"y",children:Object(C.jsx)(H,{item:e,done:!0})})}))}},e.id)})),e.placeholder]}))}})})]})},W=Object(v.a)({root:{marginTop:24,marginBottom:24},doneRoot:{textDecoration:"line-through",color:"#888888"}}),H=function(e){var t=e.item,n=e.done,r=W(),o=T().dispatch,c=Object(a.useCallback)((function(){return o({type:"delete",data:{id:t.id,done:n}})}),[t.id,n,o]),d=Object(a.useCallback)((function(){return o({type:"toggleDone",data:{id:t.id,done:n}})}),[t.id,n,o]);return Object(C.jsxs)(O.a,{className:D()(r.root,Object(b.a)({},r.doneRoot,n)),children:[Object(C.jsx)(f.a,{action:Object(C.jsx)(m.a,{"aria-label":"delete",onClick:c,children:Object(C.jsx)(I.a,{})}),title:Object(C.jsx)(p.a,{control:Object(C.jsx)(x.a,{checked:n,onChange:d,name:"checked-".concat(t.id),color:"primary"}),label:t.title})}),t.details?Object(C.jsx)(h.a,{children:Object(C.jsx)(s.a,{variant:"body2",component:"p",children:t.details})}):null]})},V=n(53),q=n(141),A=n(137),z=Object(v.a)((function(){return{root:{marginBottom:24}}}));function G(){var e=z(),t=T().dispatch,n=Object(V.b)(),a=n.control,r=n.handleSubmit,o=n.reset,c=n.watch;return Object(C.jsxs)("form",{onSubmit:r((function(e){t({type:"add",data:{todoItem:e}}),o({title:"",details:""})})),children:[Object(C.jsx)(V.a,{name:"title",control:a,defaultValue:"",rules:{required:!0},render:function(t){var n=t.field;return Object(C.jsx)(q.a,Object(u.a)(Object(u.a)({},n),{},{label:"TODO",fullWidth:!0,className:e.root}))}}),Object(C.jsx)(V.a,{name:"details",control:a,defaultValue:"",render:function(t){var n=t.field;return Object(C.jsx)(q.a,Object(u.a)(Object(u.a)({},n),{},{label:"Details",fullWidth:!0,multiline:!0,className:e.root}))}}),Object(C.jsx)(A.a,{variant:"contained",color:"primary",type:"submit",disabled:!c("title"),children:"Add"})]})}var K=Object(l.a)({palette:{primary:{main:"#9012fe"},secondary:{main:"#b2aabf"}}});function Q(){return Object(C.jsxs)(i.a,{maxWidth:"sm",children:[Object(C.jsx)("header",{children:Object(C.jsx)(s.a,{variant:"h2",component:"h1",children:"Todo List"})}),Object(C.jsxs)("main",{children:[Object(C.jsx)(G,{}),Object(C.jsx)(M,{})]})]})}var U=function(){return Object(C.jsx)(R,{children:Object(C.jsx)(j.a,{theme:K,children:Object(C.jsx)(Q,{})})})},X=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,143)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,o=t.getLCP,c=t.getTTFB;n(e),a(e),r(e),o(e),c(e)}))};c.a.render(Object(C.jsx)(r.a.StrictMode,{children:Object(C.jsx)(d.a,{basename:"/test-webinar",children:Object(C.jsx)(U,{})})}),document.getElementById("root")),X()}},[[90,1,2]]]);
//# sourceMappingURL=main.3cfbeb82.chunk.js.map